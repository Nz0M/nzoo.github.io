<!DOCTYPE html>
<html lang="fr" data-page="work">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Projet – Enzo Martin</title>
  <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body data-page="work">

<header>
  <div class="burger" id="burger">
    <div></div>
    <div></div>
    <div></div>
  </div>

  <nav class="navbar-left" id="nav-links">
    <ul>
      <li><a href="index.html" data-page="work">WORK</a></li>
      <li><a href="pictures.html" data-page="pictures">PICTURES</a></li>
    </ul>
  </nav>

  <div class="header-center" onclick="window.location.href='index.html'">MARTIN ENZO</div>
</header>

<main>
  <!-- Section où le projet sera injecté -->
  <section class="project-page"></section>
</main>

<footer>
  <p>© 2025 Enzo Martin – Tous droits réservés.</p>
</footer>

<script src="projet.js"></script>
<script src="menu.js"></script>
<script>
  // Récupération de l'ID depuis l'URL
  const urlParams = new URLSearchParams(window.location.search);
  const projectId = parseInt(urlParams.get('id'));
  const project = projects.find(p => p.id === projectId);
  const container = document.querySelector(".project-page");

  if (project) {
    container.innerHTML = `
      <h1>${project.title}</h1>
      <span class="category">${project.category}</span>
      <iframe src="${project.video}" allowfullscreen></iframe>

      <div class="suggestions-section">
        <h2>YOU MAY ALSO LIKE</h2>
        <div class="suggestions"></div>
      </div>
    `;

    // Génération des suggestions (2 aléatoires)
    const suggestionsContainer = container.querySelector(".suggestions");
    const otherProjects = projects.filter(p => p.id !== projectId);
    const shuffled = otherProjects.sort(() => 0.5 - Math.random());
    const suggestions = shuffled.slice(0, 2);

    suggestions.forEach(p => {
      const div = document.createElement("div");
      div.className = "suggestion";
      div.onclick = () => window.location.href = `projet.html?id=${p.id}`;
      div.innerHTML = `
        <img src="${p.image}" alt="${p.title}">
        <div class="overlay">
          <h3>${p.title}</h3>
          <p>${p.category}</p>
        </div>
      `;
      suggestionsContainer.appendChild(div);
    });

  } else {
    container.innerHTML = "<p>Projet non trouvé.</p>";
  }
</script>

</body>
</html>
